/* uglify - 2020-11-02 09:11:52 - */
GraphTracking=function(t){var c={__trackingDomain:"",__INIT_VALUE:{current:"",history:[]},__EXPIRATION_TIME:1,__EXPIRATION_SUFFIX:"_exp",__STORAGE_ENTRIES:[localStorageHandler.PRODUCT_VIEWED,localStorageHandler.PRODUCT_ADD_TO_CART],_init:function(t){return this.__trackingDomain=t,c.__STORAGE_ENTRIES.forEach(function(t){c.__purgeExpiredStorage(t),c.__initLocalStorage(t)}),this},__initLocalStorage:function(t){localStorageHandler.exists(t)||localStorageHandler.setObject(t,c.__INIT_VALUE)},__purgeExpiredStorage:function(t){var a=t+c.__EXPIRATION_SUFFIX,e=new Date;localStorageHandler.exists(a)&&new Date(localStorageHandler.getObject(a))<e&&(localStorageHandler.remove(t),localStorageHandler.remove(a))},__updateStorageExpiration:function(t){var a=new Date;a.setDate(a.getDate()+c.__EXPIRATION_TIME),localStorageHandler.setObject(t+c.__EXPIRATION_SUFFIX,a)},trackProductShow:function(t){c.sendTrackingDataToApi(t,null,"/tag/product/show",localStorageHandler.PRODUCT_VIEWED),c.__updateStorageExpiration(localStorageHandler.PRODUCT_VIEWED)},trackProductAddToCart:function(t,a){c.sendTrackingDataToApi(t,a,"/tag/product/addtocart",localStorageHandler.PRODUCT_ADD_TO_CART),c.__updateStorageExpiration(localStorageHandler.PRODUCT_ADD_TO_CART)},trackProductOrdered:function(t){c.__sendAjaxPostCall(t,"/tag/product/ordered")},generateUuid:void 0!==window.crypto&&void 0!==window.crypto.getRandomValues?function(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,function(t){return(t^crypto.getRandomValues(new Uint8Array(1))[0]&15>>t/4).toString(16)})}:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var a=16*Math.random()|0;return("x"==t?a:3&a|8).toString(16)})},sendTrackingDataToApi:function(t,a,e,r){var o,n=localStorageHandler.getObject(r),i=n.current;n.current=t,a&&(n.quantity=a),null==oUtils._getCookieValue("visitorId")&&$.cookie("visitorId",c.generateUuid(),{domain:cookieDomain,path:"/"}),n.visitorId=oUtils._getCookieValue("visitorId"),null!=$.cookie("HeaderInfo")&&(o=$.parseJSON($.cookie("HeaderInfo")),n.userId=o.user_id),n.currencyCode=currencyCode,""===i?c.__sendAjaxPostCall(n,e):i!==t&&void 0!==n.history&&$.inArray(i,n.history)<0&&(n.history.push(i),$.inArray(n.current,n.history)<0&&c.__sendAjaxPostCall(n,e)),localStorageHandler.setObject(r,n)},__sendAjaxPostCall:function(t,a){$.ajax({method:"POST",url:c.__trackingDomain+a,timeout:1e3,data:JSON.stringify(t),contentType:"application/json"})}};return c._init(t)},$(document).ready(function(){oGraphTracking=new GraphTracking($("#apiGraphUrl").val())});