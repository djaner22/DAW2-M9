var ajaxSelection="";windowWidth=$(window).width();windowHeight=$(window).height();$(window).on("load",function(){if(USE_ELASTIC_SEARCH_JS=="true"){onLoadAndResize()}});$(window).resize(function(){if($(window).width()!=windowWidth){if(USE_ELASTIC_SEARCH_JS=="true"){onLoadAndResize()}}});function isIE(){ua=navigator.userAgent;var a=ua.indexOf("MSIE ")>-1||ua.indexOf("Trident/")>-1;return a}function onLoadAndResize(){windowWidth=$(window).width();windowHeight=$(window).height();if(pageidentifie=!"product"){initInfiniteOnScroll()}}function initInfiniteOnScroll(){$("img.lazy").show().lazyload({effect:"fadeIn"})}function ajaxGET(c,b,a){$.ajax({url:c,cache:(typeof a=="undefined")?false:a,success:function(d){processAdditionalAjaxCommands(d,b)}})}function setCookieCompliance(){ajaxGET("/page/ajx_cookiecompliance/?value=yes"+generateQueryStrings(),"mainCookieBanner")}$(document).on("keydown","#searchINPUT",function(a){if(a.keyCode==186||a.key===";"){a.preventDefault()}searchPrev=$("#searchINPUT").val()});searchValueNew="";function generateAutoComplete(a){if(a!=searchPrev){if(a.indexOf("  ")>=0){searchValueNew=a.replace(/ +(?= )/g,"");document.getElementById("searchINPUT").value=document.getElementById("searchINPUT").value.replace(/ +(?= )/g,"")}else{if(a==" "){document.getElementById("searchINPUT").value=""}else{searchValueNew=a}}if(typeof searchTimeout!="undefined"){clearTimeout(searchTimeout)}if(searchValueNew==""){showsearchtextlinks()}else{hidesearchtextlinks()}searchTimeout=setTimeout(mainSearchDropFunctionCall,200)}}function showsearchtextlinks(){if($(".search-input").val()==""){$("#SearchDropTextlinks").slideDown(100,function(){$(this).width($(".headersearchbox").width()-18);$(this).css({"margin-left":"-1px","margin-top":"1px"})})}}function hidesearchtextlinks(){$("#SearchDropTextlinks").slideUp(100,function(){})}var onSearchbox=false;var onTextbox=false;$(document).on("focus",".search-input",function(){onSearchbox=true;showsearchtextlinks();$(".headersearchbox").addClass("active")});$(document).on("blur",".search-input",function(){onSearchbox=false;if(!onTextbox){hidesearchtextlinks()}$(".headersearchbox").removeClass("active")});$(document).on("mouseenter","#SearchDropTextlinks",function(){onTextbox=true});$(document).on("mouseleave","#SearchDropTextlinks",function(){onTextbox=false});$(document).on("click",function(a){if($(a.target).closest("#SearchDrop").length===0&&$(a.target).closest(".search-input").length===0){$("#SearchDrop").hide()}});function mainSearchDropFunctionCall(){var a=searchValueNew;if(a.length>2){a=escapeForSearch(a);ajaxGET("/page/ajx_search/?searchterm="+a+generateQueryStrings(),"SearchDrop",true)}else{$("#SearchDrop").hide()}}function escapeForSearch(a){a=encodeURIComponent(a);a=replaceString(a,"%20","+");a=replaceString(a,"_","%5F");a=replaceString(a,"-","%2D");a=replaceString(a,".","%2E");a=replaceString(a,"*","%2A");return a}function hideSearchDrop(a){$("#"+a).hide("slow","",500,"")}function processAdditionalAjaxCommands(b,c){$("#"+c).html(b);switch(c){case"SearchDrop":$(".searchdisplaytext").each(function(){var i=$(this);var j=document.getElementById("searchINPUT").value.trim().split(" ");ajx_search_text=i.text();for(search_loop=0;search_loop<j.length;search_loop++){ajx_search_text=ajx_search_text.replace(new RegExp(j[search_loop],"gi"),function(k){return"|#*"+k+"*#|"})}ajx_search_text=ajx_search_text.replace(/\|\#\*/g,'<span class="fc-brightgreen">');ajx_search_text=ajx_search_text.replace(/\*\#\|/g,"</span>");i.html(ajx_search_text)});$("#SearchDrop").show("slow","",500,"");nogaps();break;case"ajaxBlogListing":if(ajaxSelection=="infinite"){$("#infiniteScrollingTagSpan").addClass("hidden");$(getMyHTMLElement("blogDataOnPageViaAjax").innerHTML).insertBefore($("#infiniteScrollingTag"));getMyHTMLElement("blogDataOnPageViaAjax").innerHTML="";infiniteReadyForPagingBlog=true;if(getMyHTMLElement("infiniteScrollingTagSpan")!=null){if(infiniteCurrentPageBlog<infiniteMaxPagesBlog){$("#moreButton").addClass("showonnarrow");$("#moreButton").removeClass("hidden")}else{$("#moreButton").addClass("hidden");$("#moreButton").removeClass("showonnarrow")}}$.getScript("https://s7.addthis.com/js/300/addthis_widget.js#domready=1");$("[data-url]:not(div.addthis_sharing_toolbox)").click(function(i){location.href=$(this).data("url")})}break;case"ajaxProductListing":if(getMyHTMLElement("ajaxFacetResults")!=null){if(getMyHTMLElement("ajaxFacetResults").innerHTML!=""){getMyHTMLElement("facetMiddleBlock").innerHTML=getMyHTMLElement("ajaxFacetResults").innerHTML}}if(ajaxSelection==""){updateToAjaxVersion("productDataOnPage");updateToAjaxVersion("productDataNavRightTOP");updateToAjaxVersion("productDataNavRightBOTTOM");updateToAjaxVersion("itemsperpage");updateToAjaxVersion("topitemsperpage");updateToAjaxVersion("YouAreHerefacet")}if(ajaxSelection=="sort"){updateToAjaxVersion("productDataOnPage");updateToAjaxVersion("productDataNavRightTOP");updateToAjaxVersion("productDataNavRightBOTTOM");updateToAjaxVersion("itemsperpage");updateToAjaxVersion("topitemsperpage")}if(ajaxSelection=="prodperpage"){updateToAjaxVersion("productDataNavLeftBOTTOM");updateToAjaxVersion("productDataNavRightTOP");updateToAjaxVersion("productDataNavRightBOTTOM");updateToAjaxVersion("itemsperpage");updateToAjaxVersion("topitemsperpage");updateToAjaxVersion("productDataOnPage")}if(ajaxSelection=="paging"){updateToAjaxVersion("productDataNavRightTOP");updateToAjaxVersion("productDataNavRightBOTTOM");updateToAjaxVersion("itemsperpage");updateToAjaxVersion("topitemsperpage");updateToAjaxVersion("productDataOnPage")}$(document).ready(function(){$("img.lazy").show().lazyload({effect:"fadeIn"})});if(getMyHTMLElement("ajaxPushState")!=null&&ajaxSelection!="infinite"){try{window.history.pushState({html:"",pageTitle:""},"",replaceString(getMyHTMLElement("ajaxPushState").innerHTML,"&amp;","&"))}catch(e){}}reposePeritem();slidefacet();slidefacetAjax();nogaps();break;case"ajaxBASKET":GetBSKDetails(bsk_cookie_name);if(document.getElementById("minibasket")!=null){$("#minibasket").html("")}if(document.getElementById("basketsummary")!=null){$("#basketsummary").html("")}if(bsk_cookie_display==""){updateToAjaxVersion("basketSummaryText");updateToAjaxVersion("basketSummaryMenu")}if(getMyHTMLElement("itemAddedbasketSummaryMenuViaAjax")!=null&&(getMyHTMLElement("itemAddedbasketSummaryMenu")!=null)){updateToAjaxVersion("itemAddedbasketSummaryMenu")}if(isKnockout){$("#kaddtobasketbtn").text(add_another_bag_text);$("#kaddtobasketbtn").next("span.addtobagloading").addClass("hidden");showDisplayTable("itemAddedbasketSummaryMenu");thinkAboutHidingTableTimeElapse("itemAddedbasketSummaryMenu",2000);$("#itemaddedinfo").removeClass("hidden");if(!IS_MOBILE_SITE){var a=$("#numberofitemadded").text();if(a<0){a=1}a=parseInt(a);a=a+1;$("#numberofitemadded").text(a)}}else{showDisplayTable("addToBasket");showDisplayTable("addToBasket");hideDisplayTable("addToBasketLoading");showDisplayTable("itemAddedbasketSummaryMenu");thinkAboutHidingTableTimeElapse("itemAddedbasketSummaryMenu",2000)}try{TriggerMDAddProduct()}catch(e){}nogaps();break;case"minibasket":nogaps();if(!isIE()){if(typeof SimpleBar=="undefined"){var g=document.createElement("script");g.src="/javascript/simplebar.min.js";var h=document.getElementsByTagName("script")[0];h.parentNode.insertBefore(g,h);$(g).on("load",function(){var i=new SimpleBar($(".ajxbsktcontent")[0]);i.getContentElement()})}else{var d=new SimpleBar($(".ajxbsktcontent")[0]);d.getContentElement()}}break;case"ajaxReview":$("[name=customer_rating]").webwidget_rating_simple({rating_star_length:"5",rating_initial_value:$("[name=customer_rating]").val(),rating_function_name:"",directory:"/images/core"});$(".webwidget_rating_simple").click(function(){var i=$("[name=customer_rating]").val();$("#star"+i).click()});nogaps();var f;if($("#recaptcha1").length==1){f=grecaptcha.render("recaptcha1",{sitekey:google_recaptcha_site_key,theme:"light"})}break;case"ajaxServiceReview":$("[name=customer_rating]").webwidget_rating_simple({rating_star_length:"5",rating_initial_value:$("[name=customer_rating]").val(),rating_function_name:"",directory:"/images/core"});$(".webwidget_rating_simple").click(function(){var i=$("[name=customer_rating]").val();$("#star"+i).click()});break;case"captchavalidation":if(document.getElementById("captchaValidate").value=="0"||document.getElementById("captchaValidate").value==""){document.getElementById("captchaInvalid").style.display="block"}if(document.getElementById("captchaValidate").value=="1"){document.forms.customercommentsform.submit()}if(document.getElementById("captchaValidate").value=="3"){ajaxGET("/page/ajx_captcha_field/?showcaptchafields=1","captcha",false)}break;case"mainCookieBanner":updateToAjaxVersion("mainCookieBanner");hideCookieInfoBar();break;case"captcha":if(jumpPage=="1"){goToByScroll("review-anchor")}document.getElementById("submit_captcha").src="/images/buttons/addreview.gif";break;case"alertpanel-ajax":if(typeof SimpleBar=="undefined"){var g=document.createElement("script");g.src="/javascript/simplebar.min.js";var h=document.getElementsByTagName("script")[0];h.parentNode.insertBefore(g,h);$(g).on("load",function(){var i=new SimpleBar(document.getElementById("alertpanel-inner"));i.getContentElement()})}else{var d=new SimpleBar(document.getElementById("alertpanel-inner"));d.getContentElement()}break;case"rv-products":$("#rv-products").slideDown("slow");break}}function updateToAjaxVersion(a){getMyHTMLElement(a).innerHTML=getMyHTMLElement(a+"ViaAjax").innerHTML;if(getMyHTMLElement(a+"ViaAjax")!=null){getMyHTMLElement(a+"ViaAjax").innerHTML=""}}$(document).on("click","#selectedsize",function(){if($(".sizedrops").is(":visible")){$("#selectedsize").removeClass("error");$(".errormessagediv").remove()}});function ajaxAddToBasket(a){if(a=="selectFrm"){if(document[a].sku.value==""){$("#selectedsize").addClass("error");$("#selectedsize").after('<div class="errormessagediv">Please select fromt he availabel colour and size options</div>');$(".errormessagediv").slideDown(500);return false}else{$("#selectedsize").removeClass("error");$(".errormessagediv").remove();TriggerGTMAddProduct(1,document[a].sku.value)}}hideDisplayTable("addToBasket");showDisplayTable("addToBasketLoading");if(bsk_cookie_display==""){showBasketSummary("itemAddedbasketSummaryMenu",-244,18)}ajaxGET("/page/xt_orderform_additem/?target=ajx_basket.asp&sku="+document[a].sku.value+generateQueryStrings(),"ajaxBASKET");updateBasketSummaryStyle();if(sInspectletTracking=="ON"){inspectletAddToBasket(document.getElementById("prod_pfId").innerHTML)}}function ajaxAddToBasketSimple(b){if(isKnockout){$("#kaddtobasketbtn").text("Adding to your bag");$("#kaddtobasketbtn").next("span.addtobagloading").removeClass("hidden")}if(bsk_cookie_display==""){showBasketSummary("itemAddedbasketSummaryMenu",-244,18)}ajaxGET("/page/xt_orderform_additem/?target=ajx_basket.asp&sku="+b+generateQueryStrings(),"ajaxBASKET");try{TriggerGTMAddProduct(1,b);AddOmetriaBasket($("#prod_pfId").text(),1)}catch(a){}}function ajaxAddToWishlist(b,a){if(b=="selectFrm"){if(document[b].sku.value==""){alert("Please select size");return false}}if(a.indexOf("?")<0){a+="?"}else{a+="&"}a+="sku="+document.getElementById("sku").value+"&quantity=1";location.href=a}function facetChoice(b,c,a){ajaxSelection="";document.facetedSearch.filter_reproduce.value=1;prev_facetName=b;prev_facetValue=c;prev_executeFacet=a;document.facetedSearch.filter_page.value="1";var d=document.facetedSearch[b].value;if(d!=""){if(d.indexOf(","+c+",")>=0){document.facetedSearch[b].value=replaceString(document.facetedSearch[b].value,","+c+",","")}else{document.facetedSearch[b].value=document.facetedSearch[b].value+","+c+","}}else{document.facetedSearch[b].value=","+c+","}document.facetedSearch.first_filter.value=replaceString(document.facetedSearch.first_filter.value,","+b+",","");if(document.facetedSearch[b].value!=""){document.facetedSearch.first_filter.value=document.facetedSearch.first_filter.value+","+b+","}if(a==true){executeFacetAjax()}}function executeFacetAjax(){previoushashPostionsData=self.document.location.hash;myhashPostionsData="";if(document.facetedSearch.first_filter.value!=""){myhashPostionsData=myhashPostionsData+"&filterkey="+replaceString(document.facetedSearch.first_filter.value,"filter_","")}if(document.facetedSearch.filter_cat.value!=""){myhashPostionsData=myhashPostionsData+"&cat="+document.facetedSearch.filter_cat.value}if(document.facetedSearch.filter_displayoptions.value!=""){myhashPostionsData=myhashPostionsData+"&displayoptions="+document.facetedSearch.filter_displayoptions.value}if(document.facetedSearch.filter_colour.value!=""){myhashPostionsData=myhashPostionsData+"&colour="+document.facetedSearch.filter_colour.value}if(document.facetedSearch.filter_price.value!=""){myhashPostionsData=myhashPostionsData+"&price="+document.facetedSearch.filter_price.value}if(document.facetedSearch.filter_brand.value!=""){myhashPostionsData=myhashPostionsData+"&brand="+document.facetedSearch.filter_brand.value}if(document.facetedSearch.filter_displayoptions2.value!=""){myhashPostionsData=myhashPostionsData+"&displayoptions2="+document.facetedSearch.filter_displayoptions2.value}if(document.facetedSearch.filter_size.value!=""){myhashPostionsData=myhashPostionsData+"&size="+document.facetedSearch.filter_size.value}if(document.facetedSearch.filter_page.value!=""){myhashPostionsData=myhashPostionsData+"&page="+document.facetedSearch.filter_page.value}if(document.facetedSearch.order.value!=""){myhashPostionsData=myhashPostionsData+"&order="+document.facetedSearch.order.value}if(document.facetedSearch.productsperpage.value!=""){myhashPostionsData=myhashPostionsData+"&productsperpage="+document.facetedSearch.productsperpage.value}if(myhashPostionsData==""){if(previoushashPostionsData!=myhashPostionsData){self.document.location.hash=""}}else{if(strRight(myhashPostionsData,1)==","){myhashPostionsData=strLeft(myhashPostionsData,myhashPostionsData.length-1)}if(strLeft(myhashPostionsData,1)=="&"){myhashPostionsData=strRight(myhashPostionsData,myhashPostionsData.length-1)}myhashPostionsData=replaceString(myhashPostionsData,"=,","=");myhashPostionsData=replaceString(myhashPostionsData,",=","=");myhashPostionsData=replaceString(myhashPostionsData,",&","&");myhashPostionsData=replaceString(myhashPostionsData,",,",",");self.document.location.hash=myhashPostionsData}facetAjax()}function facetAjax(){var a;a=facetURL;if(a!=""){a=replaceString(a,"first_filter_value",document.facetedSearch.first_filter.value);a=replaceString(a,"filter_cat_value",document.facetedSearch.filter_cat.value);a=replaceString(a,"filter_displayoptions_value",document.facetedSearch.filter_displayoptions.value);a=replaceString(a,"filter_colour_value",document.facetedSearch.filter_colour.value);a=replaceString(a,"filter_price_value",document.facetedSearch.filter_price.value);a=replaceString(a,"filter_brand_value",document.facetedSearch.filter_brand.value);a=replaceString(a,"filter_displayoptions2_value",document.facetedSearch.filter_displayoptions2.value);a=replaceString(a,"filter_size_value",document.facetedSearch.filter_size.value);a=replaceString(a,"filter_page_value",document.facetedSearch.filter_page.value);a=replaceString(a,"filter_order_value",document.facetedSearch.order.value);a=replaceString(a,"productsperpage_value",document.facetedSearch.productsperpage.value);a=replaceString(a,"filter_reproduce_value",document.facetedSearch.filter_reproduce.value);a=cleanUnusedQueryStringsFromURL(a);ajaxGET(a,"ajaxProductListing",false)}}function doubleCheckHashForPreDefinedFilters(){newFacetCheck=0;var e=self.document.location.hash.substring(1);var b=e.split("&");for(var c=0;c<b.length;c++){var a=b[c];var d=a.split("=");if(d[0]=="facetchecker"){newFacetCheck=d[1]}}if(newFacetCheck!=facetCheckCount){facetCheckCount=-1;document.facetedSearch.filter_page.value=1;document.facetedSearch.order.value="";document.facetedSearch.filter_displayoptions.value="";document.facetedSearch.filter_brand.value="";document.facetedSearch.filter_price.value="";document.facetedSearch.filter_cat.value="";document.facetedSearch.filter_colour.value="";document.facetedSearch.filter_size.value="";document.facetedSearch.first_filter.value="";document.facetedSearch.filter_reproduce.value=1;if(self.document.location.hash.substring(1)==""){facetAjax()}else{checkForPreDefinedFilters()}}}function checkForPreDefinedFilters(){var e=self.document.location.hash.substring(1);if(e!=""){getMyHTMLElement("productDataOnPage").innerHTML='<div class="loading"><img src="/images/core/ajax-loader.gif"/></div>';var b=e.split("&");for(var c=0;c<b.length;c++){var a=b[c];var d=a.split("=");if(d.length==2){if(d[0]=="displayoptions"||d[0]=="brand"||d[0]=="price"||d[0]=="cat"||d[0]=="colour"||d[0]=="size"){document.facetedSearch["filter_"+d[0]].value="";facetChoice("filter_"+d[0],d[1],false)}else{if(d[0]=="page"){ajaxPage(d[1],false,"")}else{if(d[0]=="order"){ajaxSort(d[1],false)}else{if(d[0]=="filterkey"){document.facetedSearch.first_filter.value="filter_"+d[1]}}}}}}document.facetedSearch.filter_reproduce.value=1;facetAjax()}}function cleanUnusedQueryStringsFromURL(c){var b="";qStringVals=c.split("?");qStringValArray=qStringVals[1].split("&");for(var a=0;a<qStringValArray.length;a++){qsValsIndiv=qStringValArray[a].split("=");if(qsValsIndiv[1]!=""){b=b+"&"+qsValsIndiv[0]+"="+qsValsIndiv[1]}}b=qStringVals[0]+"?"+b;b=replaceString(b,"?&","?");return b}function ajaxPage(c,b,a){document.facetedSearch.filter_page.value=c;document.facetedSearch.filter_reproduce.value=0;if(b==true){ajaxSelection=a;executeFacetAjax()}}function ajaxSort(b,a){document.facetedSearch.order.value=b;document.facetedSearch.filter_reproduce.value=0;ajaxSelection="sort";if(a==true){document.facetedSearch.filter_page.value="1";executeFacetAjax()}}function ajaxProdPerPage(b,a){document.facetedSearch.productsperpage.value=b;document.facetedSearch.filter_reproduce.value=0;ajaxSelection="prodperpage";if(a==true){document.facetedSearch.filter_page.value="1";executeFacetAjax()}}function ClearfacetChoice(){ajaxSelection="";var a=document.getElementById("facetedSearch");a.elements.filter_cat.value="";a.elements.filter_displayoptions.value="";a.elements.filter_colour.value="";a.elements.filter_price.value="";a.elements.filter_brand.value="";a.elements.filter_displayoptions2.value="";a.elements.filter_size.value="";executeFacetAjax()}function ajaxEmailaFriend(){var a=function(){$("#emailAfriendBOX").css("display","block");$("#emailAfriendBOX").css({top:($(document).scrollTop()+150),left:"50%",margin:"0 0 0 -"+($("#emailAfriendBOX").width()/2)+"px"})};showOverlayBox(a)}function forgotPasswordpopup(){var a=function(){$("#forgotpassword").css({top:($(document).scrollTop()+150),left:"50%",margin:"0 0 0 -"+($("#forgotpassword").width()/2)+"px"});$("#forgotpassword").css("display","block")};showOverlayBox(a)}function showPopupA(a){var b=function(){$("#ajaxEditorial").html("");ajaxGET("/page/ajx_viewindex/?article_id="+a,"ajaxEditorial",false);$("#ajaxEditorial").css({top:($(document).scrollTop()+150),left:"50%",margin:"0 0 0 -"+($("#ajaxEditorial").width()/2)+"px"});$("#ajaxEditorial").css("display","block")};showOverlayBox(b)}function readCookieValue(c,b){cookieValue="";var a=readCookie(c);if(a!=null&&a!="undefined"){cookieValue=readCookieKey(a,b);if(isValueValid(cookieValue)==false){cookieValue=""}}return(cookieValue)}function readCookie(e){var f=e+"=";var b=document.cookie.split(";");for(var d=0;d<b.length;d++){var a=b[d];while(a.charAt(0)==" "){a=a.substring(1,a.length)}if(a.indexOf(f)==0){return a.substring(f.length,a.length)}}return null}function showArticleSizedPopup(a,d,c){var b=function(){$("#ajaxEditorial").html("");ajaxGET("/page/ajx_viewindex/?article_id="+a,"ajaxEditorial",false);$("#ajaxEditorial").css({top:($(document).scrollTop()+150),left:"50%",margin:"0 0 0 -"+(d/2)+"px",display:"block",width:d,height:c,"overflow-Y":"auto","overflow-X":"hidden"})};showOverlayBox(b)}function showOverlayBox(a){$("#overlayBox").css({display:"block",width:$(window).outerWidth(),height:$(document).outerHeight()}).fadeTo(0,0).fadeTo(200,0.5,a)}function showPopup(){var a=function(){$("#ajaxEditorial").css("display","block")};showOverlayBox(a)}function hidePopup(){$("#forgotpassword, #emailAfriendBOX, #ajaxEditorial, #ajaxReview, #ajaxServiceReview, #overlayBox").hide();$("#overlayBox").animate({opacity:0},null,null,function(){$(this).hide()})}function generateQueryStrings(){var a="";if(qSVariables!=""){var b=qSVariables.split(",");for(variable=0;variable<b.length;variable=variable+2){a=a+"&"+b[variable]+"="+b[variable+1]}}return a}function submitEmailonLeftNav(c,d){var b=new RegExp("^[a-zA-Z0-9][a-zA-Z0-9-_.']*@[a-zA-Z0-9-_']*.[a-zA-Z0-9-_']*[a-zA-Z0-9-_.']*[a-zA-Z0-9-_']$");var a=document.newsletter.email.value;if(a!=""&&a!="sub_box_left_email"&&a.match(b)){document.newsletter.submit()}else{alert(d)}}function sendEmailAFriend(){var a="/page/ajx_emailafriend/?pf_id="+document.emailafriendform.pf_id.value+"&recipient_name="+document.emailafriendform.recipient_name.value+"&recipient_email="+document.emailafriendform.recipient_email.value+"&sender_name="+document.emailafriendform.sender_name.value+"&sender_email="+document.emailafriendform.sender_email.value+"&email_message="+document.emailafriendform.email_message.value+generateQueryStrings();previousContentEmail=getMyHTMLElement("emailAfriendTEXT").innerHTML;invokeAJAX(a,"emailAfriendTEXT","","","","",false)}function invokeAJAX(g,f,d,b,c,a){if(f=="ajaxPRODUCTBox"){getMyHTMLElement("ajaxPRODUCTBox").src="about:blank";if(c!=""&&typeof(c)!="undefined"){leftAdjustInt=c/2}else{leftAdjustInt=75}centerObject("ajaxPRODUCTBox",642,395,"",300,leftAdjustInt,0);getMyHTMLElement("ajaxPRODUCTBox").src=g;showPopup("ajaxPRODUCTBox");initialised=false}else{if(f=="parcelshoppopup"){$("#parcelshoppopup").html("loading...");$("#parcelshoppopup").attr("src",g)}else{var e;if(a==true){parent.document.getElementById(f).innerHTML='<div class="ajaxLoading"><img src="/images/core/ajaxloader.gif" alt="Please wait, the page is loading..."></div>'}ajaxGET(g,f,a)}}}function showReviewSizedPopup(b,c,e,d){var a=function(){$("#ajaxReview").html("");ajaxGET("/page/ajx_review/?pf_id="+b,"ajaxReview",false);$("#ajaxReview").css({top:($(document).scrollTop()+150),left:"50%",margin:"0 0 0 -"+($("#ajaxReview").width()/2)+"px",display:"block","overflow-Y":"auto","overflow-X":"hidden"})};showOverlayBox(a)}function showServiceReviewSizedPopup(b,c){var a=function(){$("#ajaxServiceReview").html("");ajaxGET("/page/ajx_service_review/","ajaxServiceReview",false);$("#ajaxServiceReview").css({top:($(document).scrollTop()+150),left:"50%",margin:"0 0 0 -"+($("#ajaxServiceReview").width()/2)+"px",display:"block","overflow-Y":"auto","overflow-X":"hidden"})};showOverlayBox(a)}function VerifyGuestCustomer(a,c){var b=new RegExp("^[a-zA-Z0-9][a-zA-Z0-9-_.']*@[a-zA-Z0-9-_']*.[a-zA-Z0-9-_']*[a-zA-Z0-9-_.']*[a-zA-Z0-9-_']$");if(a!=""&&a.match(b)){ajaxGET("/page/ajx_quickaddguest/?email="+a+"&testabandondedemails="+c,"donothing")}else{if(c=="1"){document.getElementById("donothing").innerHTML="Missing or invalid email. No action taken."}}}function updateBasketSummaryStyle(){var a=$("#itemcount").text();a++;if(a>0){$(".basketbox").removeClass("bd-midgrey").addClass("bd-brightgreen");$("#basketSummaryText").removeClass("fc-default").addClass("fc-brightgreen");$(".checkoutlink").removeClass("hidden").addClass("inlineblock")}else{$(".basketbox").addClass("bd-midgrey").removeClass("bd-brightgreen");$("#basketSummaryText").addClass("fc-default").removeClass("fc-brightgreen");$(".checkoutlink").addClass("hidden").removeClass("inlineblock")}}function showOverlayBoxStore(a){$("#overlayBox").css({display:"block",width:$(document).outerWidth(),height:$(document).outerHeight()});$("#overlayBox").fadeTo(0,0).fadeTo(200,0.5,a);$("#overlayBox").attr("onClick","closeStoreFinderPopup()")}function closeStoreFinderPopup(){$("#overlayBox").hide();$("#parcelshoppopup").hide()}function saveCookieLaw(){createCookie("CookieLaw","1",31);$(".cookie_bar").fadeOut("slow")}function createCookie(d,e,b){if(b){var a=new Date();a.setTime(a.getTime()+(b*24*60*60*1000));var c="; expires="+a.toGMTString()}else{var c=""}document.cookie=d+"="+e+c+"; path=/;domain="+document.domain+"; Secure;"}function closeOffers(){$(".slider_bar").fadeOut("slow");createCookie("PromoSlider","0",(promoSliderHours/24))}function infiniteScrollingDetectionBlog(){if(document.documentElement.scrollTop>=document.body.scrollTop){scrolledAmount=document.documentElement.scrollTop}else{scrolledAmount=document.body.scrollTop}var a=document.documentElement.clientHeight+scrolledAmount+200;if(getMyHTMLElement("infiniteScrollingTag")!=null){var b=$("#infiniteScrollingTag").position();if(a>b.top){if(infiniteReadyForPagingBlog==true){infiniteScrollingBlog(infiniteMaxPagesBlog);infiniteReadyForPagingBlog=false}}}}function infiniteScrollingBlog(a){infiniteCurrentPageBlog=infiniteCurrentPageBlog+1;$("#moreButton").removeClass("showonnarrow");$("#moreButton").addClass("hidden");if(infiniteCurrentPageBlog<=a){$("#infiniteScrollingTagSpan").removeClass("hidden");ajaxSelection="infinite";selectBlogPage("page",infiniteCurrentPageBlog,"infinite")}}function selectBlogPage(b,c,a){ajaxSelection=a;c=encodeURIComponent(c);c=replaceString(c,"%20","+");c=replaceString(c,"_","%5F");c=replaceString(c,"-","%2D");oldURL=document.location.href;if(b=="page"){if(oldURL.indexOf(b+"=")==-1){newURL=oldURL+"&"+b+"="+c}else{newURL=replaceString(oldURL,b+"=","old_"+b+"=");newURL=newURL+"&"+b+"="+c}}else{if(oldURL.indexOf(b+"="+c)==-1){newURL=oldURL+"&"+b+"="+c}else{newURL=replaceString(oldURL,b+"="+c,"")}newURL=replaceString(newURL,"page=","old_page=")}newURL=replaceString(newURL,"/&","/?");newURL=replaceString(newURL,"/?&","/?");newURL=replaceString(newURL,"&&","&");ajxURL=newURL;ajxQS=strRight(newURL,newURL.length-newURL.indexOf("?")-1);ajxURL=siteSubDirectory+"/page/ajx_blogs/?"+ajxQS;ajxURL=replaceString(ajxURL,"/&","/?");ajxURL=replaceString(ajxURL,"/?&","/?");ajxURL=replaceString(ajxURL,"&&","&");ajaxGET(ajxURL,"ajaxBlogListing")}function initInfiniteOnScrollBlog(){if(true){}else{window.onscroll=false}}$(document).ready(function(){if(bsk_cookie_display=="1"){$("#holder_BASKETHEADER").hover(function(){showMinibasketTimeout=setTimeout(function(){if($("#minibasket").filter(":visible").length==0){if($("#minibasket").html()==""){$("#minibasket").html('<div style="text-align:center;width:255px;padding:20px; border:1px solid #eeeeee"><img src="/images/core/ajaxloader.gif"/></div>');ajaxGET(siteSubDirectory+"/page/ajx_mini_basket/?1=2"+generateQueryStrings(),"minibasket",false)}$("#minibasket").slideDown()}},500);if(typeof hideMinibasketTimeout!="undefined"){clearTimeout(hideMinibasketTimeout)}},function(){hideMinibasketTimeout=setTimeout("$('#minibasket').slideUp();",1500);if(typeof showMinibasketTimeout!="undefined"){clearTimeout(showMinibasketTimeout)}});$("#minibasket").hover(function(){if(typeof hideMinibasketTimeout!="undefined"){clearTimeout(hideMinibasketTimeout)}},function(){hideMinibasketTimeout=setTimeout("$('#minibasket').slideUp();",1500)})}});function selectyourcurrency(b,a){var c=function(){$("#ajaxCurrnecySelector").html("");ajaxGET(siteSubDirectory+"/page/ajx_currency_selector/?iso_code="+b+"&country_name="+a,"ajaxCurrnecySelector");$(".ajaxCurrnecySelector").css({top:($(document).scrollTop()+150),left:"50%",margin:"0 0 0 -"+($("#ajaxCurrnecySelector").width()/2)+"px"});$(".ajaxCurrnecySelector").css("display","block");$("#overlayBox").attr("onclick","hidecurrencyselector()")};showOverlayBox(c)}function hidecurrencyselector(){$("#ajaxCurrnecySelector").hide(function(){$(this).html("")});$("#overlayBox").animate({opacity:0},null,null,function(){$(this).hide()})}$(document).on("click",'[data-option="yes"]',function(){});$(document).on("click",'[data-option="no"]',function(){hidecurrencyselector()});$(document).on("click","[data-alpha]",function(){var a=$(this).attr("data-alpha");$(this).addClass("current").siblings("span").removeClass("current");ajaxGET("/page/ajx_brand/?alphabet="+a+generateQueryStrings(),"alphabrand")});function toggleCountrySelector(a){if($("#ajaxCountrySelector").hasClass("hidden")){$("#currency-alert").remove();$("#ajaxCountrySelector").html("");ajaxGET(siteSubDirectory+"/page/ajx_country_selector/?country="+a+generateQueryStrings(),"ajaxCountrySelector");$("#ajaxCountrySelector").removeClass("hidden")}else{$("#ajaxCountrySelector").html("");$("#ajaxCountrySelector").addClass("hidden")}}function SaveCountrySelectorValues(b,c){saveSelectedGeoValues(b,c);var a=$.post("/page/ajx_update_basket_country/?country="+b+generateQueryStrings(),function(){}).done(function(){location.reload()}).fail(function(){}).always(function(){})}function saveSelectedGeoValues(a,b){createCookie("countrypref1",a,30);createCookie("currencypref",b,365)};